<template>
  <div class="logo">
    <!-- Created with Inkscape (http://www.inkscape.org/)
          width="579.99609"
    height="227.75391" -->
    <svg
      xmlns:dc="http://purl.org/dc/elements/1.1/"
      xmlns:cc="http://creativecommons.org/ns#"
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
      xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
      :height="height"
      viewBox="0 0 153.4573 60.259887"
      version="1.1"
      id="svg4831"
      inkscape:version="0.92.4 5da689c313, 2019-01-14"
      sodipodi:docname="logo.svg"
      style="max-width:100%"
    >
      <defs id="defs4825"></defs>
      <sodipodi:namedview
        id="base"
        pagecolor="#ffffff"
        borderColor="#666666"
        borderopacity="1.0"
        inkscape:pageopacity="0.0"
        inkscape:pageshadow="2"
        inkscape:zoom="0.24748737"
        inkscape:cx="247.34931"
        inkscape:cy="622.8918"
        inkscape:document-units="mm"
        inkscape:current-layer="layer1"
        showgrid="false"
        fit-margin-top="30"
        fit-margin-left="20"
        fit-margin-right="20"
        fit-margin-bottom="20"
        units="px"
        inkscape:window-width="958"
        inkscape:window-height="1062"
        inkscape:window-x="2880"
        inkscape:window-y="18"
        inkscape:window-maximized="0"
      ></sodipodi:namedview>
      <metadata id="metadata4828">
        <rdf:RDF>
          <cc:Work rdf:about>
            <dc:format>image/svg+xml</dc:format>
            <dc:type
              rdf:resource="http://purl.org/dc/dcmitype/StillImage"
            ></dc:type>
            <dc:title></dc:title>
          </cc:Work>
        </rdf:RDF>
      </metadata>
      <g
        inkscape:label="Layer 1"
        inkscape:groupmode="layer"
        id="layer1"
        transform="translate(2.6452067,4.7274828)"
      >
        <!-- l -->
        <path
          id="path4787"
          d="M 76.019762,9.3264115 V 42.546312 c 0,2.087274 0.760107,3.890674 2.281353,5.411909 1.521225,1.521234 3.325649,2.282379 5.412924,2.282379 H 90.4008 V 42.121709 H 84.192114 V 9.3264115 Z"
          style="font-style:normal;font-weight:normal;font-size:26.67330933px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;opacity:1;fill-opacity:1;stroke:none;stroke-width:1.32665777"
          v-bind:style="{ fill: black }"
          inkscape:connector-curvature="0"
        ></path>
        <!-- F -->
        <path
          id="path4789"
          d="M 2.64646,12.032366 V 41.05557 l 8.330675,8.330679 V 35.275604 H 32.681308 V 26.99736 H 10.977135 v -6.686749 h 26.957762 v -8.278245 z"
          style="font-style:normal;font-weight:normal;font-size:26.67330933px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;opacity:1;fill-opacity:1;stroke:none;stroke-width:1.32665777"
          v-bind:style="{ fill: black }"
          inkscape:connector-curvature="0"
        ></path>
        <path
          style="font-style:normal;font-weight:normal;font-size:26.67330933px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;opacity:1;fill:#f57c00;fill-opacity:1;stroke:none;stroke-width:5.01413965"
          d="m 507.70508,33.34375 c -3.61017,4.412436 -10.16092,12.235122 -19.6543,23.466797 -9.49345,11.097959 -16.18099,19.121079 -20.05859,24.068359 l -31.25196,-37.035156 -22.82421,22.025391 33.21875,39.679689 -51.54493,61.57226 v 10.63282 h 32.29102 l 39.71094,-47.33203 38.92773,45.93554 22.47852,-22.47851 L 488.25,105.54883 539.99609,43.976562 V 33.34375 Z"
          transform="matrix(0.26458333,0,0,0.26458333,2.64646,3.2100172)"
          id="path4791"
          inkscape:connector-curvature="0"
        ></path>
        <!-- e -->
        <path
          id="path4793"
          d="m 48.317652,19.462429 c -2.087274,0 -3.890668,0.760115 -5.411893,2.281349 -1.521244,1.521231 -2.282383,3.325661 -2.282383,5.412936 v 15.389598 c 0,2.087274 0.761139,3.890674 2.282383,5.411909 1.521225,1.521234 3.324619,2.282379 5.411893,2.282379 H 71.826154 V 42.121709 H 48.742269 v -3.18402 H 71.826154 V 27.156714 c 0,-2.087275 -0.760123,-3.891705 -2.281347,-5.412936 -1.485872,-1.521234 -3.290302,-2.281349 -5.41295,-2.281349 z m 0.424617,8.11889 h 14.964989 v 4.245017 H 48.742269 Z"
          style="font-style:normal;font-weight:normal;font-size:26.67330933px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;opacity:1;fill-opacity:1;stroke:none;stroke-width:1.32665777"
          v-bind:style="{ fill: black }"
          inkscape:connector-curvature="0"
        ></path>
        <path
          id="path4795"
          d="m 95.505294,19.462429 v 30.58386 l 8.118896,-8.118892 V 19.462429 Z"
          style="font-style:normal;font-weight:normal;font-size:26.67330933px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;opacity:1;fill:#f57c00;fill-opacity:1;stroke:none;stroke-width:1.32665777"
          inkscape:connector-curvature="0"
        ></path>
        <g
          id="logo-hammer"
          ref="hammer"
          transform-origin="74% 25%"
          inkscape:transform-center-x="8.1517208"
          inkscape:transform-center-y="-3.8754082"
        >
          <g
            id="g4805"
            transform="matrix(-0.11713606,-2.406499,2.406499,-0.11713606,117.50264,429.70296)"
            inkscape:transform-center-y="-4.3164187"
            inkscape:transform-center-x="8.5655343"
            style="opacity:1"
          >
            <g
              id="g4803"
              inkscape:transform-center-x="8.5095306"
              inkscape:transform-center-y="-4.1577242"
              transform="rotate(21.463115,173.177,8.5297519)"
            >
              <path
                id="path4797"
                d="m 170.43834,3.5234234 v 4.1740602 h 2.07637 V 3.5234234 Z"
                style="font-style:normal;font-weight:normal;font-size:26.67330933px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;opacity:1;fill:#0097a7;fill-opacity:1;stroke:none;stroke-width:0.4795081"
                inkscape:connector-curvature="0"
              ></path>
              <path
                sodipodi:nodetypes="cccccc"
                inkscape:connector-curvature="0"
                style="font-style:normal;font-weight:normal;font-size:26.67330933px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;opacity:1;fill:#0097a7;fill-opacity:1;stroke:none;stroke-width:0.72648424"
                d="M 168.46722,-0.28516737 V 2.7529975 h 6.01861 v -1.683939 l -1.5247,-1.35422587 z"
                id="path4799"
              ></path>
              <path
                inkscape:connector-curvature="0"
                style="font-style:normal;font-weight:normal;font-size:26.67330933px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;opacity:1;fill:#0097a7;fill-opacity:1;stroke:none;stroke-width:0.38286513"
                d="M 170.87265,-0.85108895 V 3.7238755 h 1.20775 v -4.57496445 z"
                id="path4801"
              ></path>
            </g>
          </g>
        </g>
      </g>
    </svg>
  </div>
</template>

<script lang="ts">
import { Watch, Component, Vue, Prop } from 'vue-property-decorator';
import { gsap, Power2, Power3 } from 'gsap';

@Component({
  //props: ['height', 'black', 'animating']
})
export default class Logo extends Vue {
  @Prop(Number) readonly height: number | undefined;
  @Prop(String) readonly black: string | undefined;
  @Prop(Boolean) readonly animating: boolean | undefined;
  private tl: gsap.core.Timeline | null = gsap.timeline({
    onComplete: () => {
      if (this.animating && this.tl !== null) {
        this.tl.restart();
      }
    },
    paused: !this.animating
  });

  @Watch('animating', { immediate: true })
  onAnimatingChanged(val: boolean) {
    if (val && this.tl !== null) {
      this.tl.play();
    }
  }

  mounted() {
    if (this.tl !== null) {
      const hammer = this.$refs.hammer;
      this.tl.set(hammer, { transformOrigin: '80% 64%' });
      this.tl.to(hammer, 0.5, { rotation: 50, ease: Power2.easeIn });
      this.tl.to(hammer, 0.2, { rotation: -10, ease: Power3.easeIn });
      this.tl.to(hammer, 0.3, { rotation: 0, ease: Power2.easeOut });
    }
  }

  beforeDestroy() {
    if (this.tl !== null) {
      this.tl.kill();
      this.tl = null;
    }
  }
}
</script>
