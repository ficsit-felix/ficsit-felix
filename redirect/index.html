<!DOCTYPE html>
<html lang="en">

<head>
  <script>
    let deployedUrls = [
      "https://ficsit-felix.netlify.app/"
    ];

    function redirectTo(url) {
      location.href = url + location.hash;
    }

    function getRandomDeployedUrl() {
      return deployedUrls[Math.floor(Math.random() * deployedUrls.length)];
    }

    function redirectToDeployedUrl() {
      // if there was a previous redirect, redirect to the same site to reuse cache if possible
      if (
        localStorage !== undefined &&
        localStorage.getItem("url") !== null
      ) {
        let url = localStorage.getItem("url");
        if (deployedUrls.includes(url)) {
          redirectTo(url);
          return;
        }
      }

      // choose a deployed url at random and cache it
      let url = getRandomDeployedUrl();
      if (localStorage !== undefined) {
        localStorage.setItem("url", url);
        redirectTo(url);
      }
    }

    redirectToDeployedUrl();
  </script>
  <title>FICSIT - FeliX</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <link rel="icon" href="favicon.ico" />
  <link rel="stylesheet" href="style.css" />
  <meta name="description" content="FeliX is a save file visualizer for the game Satisfactory." />
  <meta name="keywords" content="Satisfactory,FICSIT,FeliX,save,file,editor" />
</head>

<body>
  <h1>FICSIT - FeliX</h1>
  <p>FeliX is a save file visualizer for the game Satisfactory.</p>
  <noscript>
    You need JavaScript enabled to be able to use FeliX.
  </noscript>
  <a href="javascript:redirectToDeployedUrl()">
    You can currently find FeliX here.
  </a>
</body>

</html>
